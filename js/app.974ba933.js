(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Vue-tfjs-pv-prediction-model/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0604":function(t,e,n){"use strict";n("553f")},"07ff":function(t,e,n){},"0df8":function(t,e,n){"use strict";n("1616")},1:function(t,e){},1616:function(t,e,n){},2:function(t,e){},3:function(t,e){},4:function(t,e){},4416:function(t,e,n){"use strict";n("9d32")},"463b":function(t,e,n){},5:function(t,e){},"548c":function(t,e,n){"use strict";n("f632")},"553f":function(t,e,n){},5648:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s={name:"app"},o=s,c=(n("5c0b"),n("2877")),u=Object(c["a"])(o,i,r,!1,null,null,null),l=u.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("前端机器学习")]),n("h2",[t._v("光伏发电功率预测系统")]),n("div",{attrs:{id:"wrapper"}},[n("div",{staticClass:"leftPart"},[n("router-link",{attrs:{to:"/SingleModel/Introduce"}},[t._v("Single Model")]),t._m(0),n("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[n("left-graph")],1)],1),n("div",{staticClass:"rightPart"},[n("router-link",{attrs:{to:"/AreaModel"}},[t._v("Area Model")]),t._m(1),n("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[n("right-graph")],1)],1)])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"description"},[n("p",[t._v("以单台光伏作为实验对象")]),n("p",[t._v("利用机器学习进行功率预测")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"description"},[n("p",[t._v("站在全局视角")]),n("p",[t._v("以区域为单位进行功率预测")])])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chartDom"}})},m=[],v=(n("d3b7"),n("ac1f"),n("25f0"),n("1276"),[]),g=[.59,.95,1.51,2.09,2.27,2.46,2.6,2.66,2.72,2.69,2.52,2.5,2.36,2.19,1.95,1.63,1.25,.82,.47,.21,.07,.04,0],y=[.02,.76,1.09,1.69,2.24,2.31,2.45,2.52,2.54,2.56,2.49,2.26,2.26,2.07,1.89,1.61,1.27,.93,.52,.27,.08,.01,.02],_={name:"LeftGraph",data:function(){return{n:0}},created:function(){for(var t=7;t<=18;t+=.5){var e=t.toString().split(".")[0],n=t.toString().split(".")[1]?"30":"00";v.push(e+":"+n)}},methods:{slideWindow:function(t,e){for(var n=[],a=0;a<7;a++){var i=a+t>=e.length?(a+t)%e.length:a+t;n.push(e[i])}return n}},computed:{x:function(){return this.slideWindow(this.n,v)},y1:function(){return this.slideWindow(this.n,g)},y2:function(){return this.slideWindow(this.n,y)},option:function(){return{title:{text:"单台光伏的预测数据"},tooltip:{trigger:"axis"},legend:{data:["实际功率","预测功率"]},xAxis:{data:this.x},yAxis:{type:"value",scale:!0,name:"PV功率",max:3,min:0},series:[{name:"实际功率",type:"bar",data:this.y1},{name:"预测功率",type:"line",data:this.y2}]}}},mounted:function(){var t=this,e=document.getElementById("chartDom"),n=this.$echarts.init(e);n.showLoading(),this.timer=setInterval((function(){n.hideLoading(),n.setOption(t.option),t.n=(t.n+1)%v.length}),2e3)},beforeDestroy:function(){clearInterval(this.timer)}},b=_,x=(n("6f63"),Object(c["a"])(b,f,m,!1,null,"40e2d04c",null)),w=x.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-echarts",{attrs:{options:t.options}})},S=[],D=(n("b0c0"),n("a00a"),[{name:"北海道と東北",value:[142.865199,43.216122,353.25]},{name:"東京",value:[139.74534,35.656749,4793.99]},{name:"近畿",value:[135.786426,34.996498,3641.55]},{name:"九州沖縄",value:[130.41034,33.576881,3136.74]},{name:"四国",value:[134.551158,34.074235,1120.94]},{name:"中部",value:[138.194771,36.652289,4503.64]},{name:"中国",value:[132.455293,34.391876,1448.22]}]),$=[{name:"東京",value:[139.74534,35.656749,4793.99]},{name:"中部",value:[138.194771,36.652289,4503.64]},{name:"近畿",value:[135.786426,34.996498,3641.55]}],X={name:"RightGraph",data:function(){return{options:{}}},mounted:function(){this.options={title:{text:"区域级光伏预测"},bmap:{key:"dZKgqGzvGcdGkK8sT3b7P9OAt2z2aPgs",center:[139.744477,35.658626],zoom:6,roam:!0},tooltip:{formatter:function(t){return t.name+": "+t.value[2]+"[kw]"}},series:[{name:"PV output",type:"scatter",coordinateSystem:"bmap",data:D,encode:{value:2},itemStyle:{color:"#1E8449",opacity:.5},symbolSize:function(t){return t[2]/100},label:{show:!1,position:"right",formatter:function(t){return t.name}},emphasis:{label:{show:!0}}},{name:"top 3",type:"effectScatter",coordinateSystem:"bmap",data:$,itemStyle:{color:"#1E8449",opacity:.5},symbolSize:function(t){return t[2]/100},encode:{value:2},label:{show:!0,position:"right",formatter:function(t){return t.name}},hoverAnimation:!0,rippleEffect:{brushType:"stroke"}}]}}},O=X,Y=(n("f435"),Object(c["a"])(O,E,S,!1,null,"6529655e",null)),A=Y.exports,I={name:"Home",components:{LeftGraph:w,RightGraph:A}},j=I,C=(n("e629"),Object(c["a"])(j,p,h,!1,null,"25592872",null)),L=C.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" this is area Model ")])},T=[],P={name:"AreaModel"},N=P,k=Object(c["a"])(N,M,T,!1,null,"d1435b00",null),z=k.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("div",{staticClass:"menu"},[n("bar-menu")],1),n("div",{staticClass:"context"},[n("router-view")],1)])},G=[],R=n("bc3a"),F=n.n(R),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-wrapper"},[n("el-menu",{attrs:{router:"","default-active":t.onRoutes,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",[t._v("前言")])]),n("el-menu-item",{attrs:{index:"/SingleModel/Introduce"}},[t._v("项目意义")]),n("el-menu-item",{attrs:{index:"/SingleModel/Demo"}},[t._v("机器学习开胃菜")])],2),n("el-menu-item",{attrs:{index:"/SingleModel/DataIntroduce"}},[t._v(" 数据介绍 ")]),n("el-menu-item",{attrs:{index:"/SingleModel/training"}},[t._v("训练现场")])],1)],1)},q=[],V={name:"BarMenu",methods:{},computed:{onRoutes:function(){return this.$route.path}}},H=V,J=(n("d5e0"),Object(c["a"])(H,W,q,!1,null,"07f0c5ee",null)),K=J.exports,Z={name:"SingleModel",components:{BarMenu:K},data:function(){return{PVData:void 0,X_train:void 0,Y_train:void 0,X_valid:void 0,Y_valid:void 0,X_test:void 0,Y_test:void 0}},provide:function(){return{getXtrainData:this.getXtrainData,getYtrainData:this.getYtrainData,getXvalidData:this.getXvalidData,getYvalidData:this.getYvalidData,getXtestData:this.getXtestData,getYtestData:this.getYtestData}},mounted:function(){this.downLoadAllData()},methods:{downLoadAllData:function(){var t=this;F.a.all([F.a.get("./data/X_train.json"),F.a.get("./data/Y_train.json"),F.a.get("./data/X_valid.json"),F.a.get("./data/Y_valid.json"),F.a.get("./data/X_test.json"),F.a.get("./data/Y_test.json")]).then(F.a.spread((function(e,n,a,i,r,s){t.X_train=e.data,t.Y_train=n.data,t.X_valid=a.data,t.Y_valid=i.data,t.X_test=r.data,t.Y_test=s.data}),(function(t){console.log(t)})))},getXtrainData:function(){return this.X_train},getYtrainData:function(){return this.Y_train},getXvalidData:function(){return this.X_valid},getYvalidData:function(){return this.Y_valid},getXtestData:function(){return this.X_test},getYtestData:function(){return this.Y_test}}},Q=Z,U=(n("c72a"),Object(c["a"])(Q,B,G,!1,null,"5a60b793",null)),tt=U.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-wrapper"},[n("h1",[t._v("前端机器学习实战应用")]),n("h2",[t._v("模型结构选择")]),n("p",[t._v("首先通过拖拽下面的滑块，订制你自己的神经网络结构，默认为3层隐藏层，每个隐藏层具有2个神经元的一个深度学习模型。")]),n("p",[t._v("当然你可以让模型变得更简单，或者更加复杂")]),n("div",{staticClass:"neuralControl"},[n("draw-neural",{attrs:{layersNumber:t.layersNumber,neuronsNumber:t.neuronsNumber},on:{changeLayers:t.changeLayers,changeNeurons:t.changeNeurons}})],1),n("h2",[t._v("超参量选择")]),n("p",[t._v("接下来选择深度学习模型的超参量，batchSize表示模型一次看多少个数据。epoch表示模型总共的学习次数")]),n("p",[t._v("计数器显示的为默认数字，你可以点击左右的控器按钮或者自己输入来改变预设值")]),n("p",[t._v("更多的超参量选择功能将在后续开放")]),n("el-form",{attrs:{inline:!0,model:t.hyperparameters}},[n("el-form-item",{attrs:{label:"BatchSize"}},[n("el-input-number",{attrs:{min:100,step:50,max:1e3},model:{value:t.hyperparameters.batchSize,callback:function(e){t.$set(t.hyperparameters,"batchSize",e)},expression:"hyperparameters.batchSize"}})],1),n("el-form-item",{attrs:{label:"Epochs"}},[n("el-input-number",{attrs:{min:10,step:10,max:50},model:{value:t.hyperparameters.epochs,callback:function(e){t.$set(t.hyperparameters,"epochs",e)},expression:"hyperparameters.epochs"}})],1)],1),n("h2",[t._v("开始学习")]),n("p",[t._v("定制完自己的神经网络之后,开始在真实的数据场景下进行机器学习。")]),n("deep-learning",{attrs:{Xtrain:this.Xtrain,Ytrain:this.Ytrain,Xvalid:this.Xvalid,Yvalid:this.Yvalid,Xtest:this.Xtest,Ytest:this.Ytest,layersNumber:t.layersNumber,neuronsNumber:t.neuronsNumber,epochs:t.hyperparameters.epochs,batchSize:t.hyperparameters.batchSize}}),n("p",[t._v("左上角的图为AI在已知训练数据上的误差")]),n("p",[t._v("右上的图为AI在验证集(一个已知但是并没有给AI看过的数据集)上的误差")]),n("p",[t._v("下面一张图采取了200个点，已表现每回AI训练之后在验证集中的表现")])],1)},nt=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{attrs:{id:"option"}},[n("p",[t._v("层数 : "+t._s(t.layers))]),n("el-slider",{attrs:{step:1,min:3,max:5,"show-stops":""},model:{value:t.layers,callback:function(e){t.layers=e},expression:"layers"}}),n("p",[t._v("每层神经元个数 : "+t._s(t.neurons))]),n("el-slider",{attrs:{step:1,min:1,max:5,"show-stops":""},model:{value:t.neurons,callback:function(e){t.neurons=e},expression:"neurons"}})],1)])},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"neuralWrapper"},[n("canvas",{attrs:{id:"canvas"}})])}],rt=(n("cb29"),n("a9e3"),n("3835")),st={name:"DrawNeural",props:{layersNumber:Number,neuronsNumber:Number},data:function(){return{layers:this.layersNumber,neurons:this.neuronsNumber,width:400,height:300}},watch:{layers:function(t,e){var n=document.getElementById("canvas"),a=n.getContext("2d");this.$emit("changeLayers",t),this.render(this.layers,this.neurons,a)},neurons:function(t,e){var n=document.getElementById("canvas"),a=n.getContext("2d");this.$emit("changeNeurons",t),this.render(this.layers,this.neurons,a)}},methods:{render:function(t,e,n){n.fillStyle="#69c",n.lineWidth=3;var a=[],i=this.init(a,t,e,n),r=Object(rt["a"])(i,2),s=r[0],o=r[1],c=.4*Math.min(s,o)/2;this.drawLine(a,t,e,n),this.drawCircle(a,n,c)},init:function(t,e,n,a){a.clearRect(0,0,this.width,this.height);for(var i=parseInt(this.width/e),r=parseInt(this.height/n),s=0;s<n;s++)for(var o=0;o<e;o++){var c=parseInt(i/2)+i*o,u=parseInt(r/2)+r*s;t.push([c,u])}return[i,r]},drawLine:function(t,e,n,a){for(var i=0;i<t.length;i++)if((i+1)%e!==0)for(var r=(i+1)%e,s=0;s<n;s++)this.makeLine(t,i,r+e*s,a)},makeLine:function(t,e,n,a){a.beginPath(),a.moveTo(t[e][0],t[e][1]),a.lineTo(t[n][0],t[n][1]),a.stroke(),a.closePath()},drawCircle:function(t,e,n){for(var a=0;a<t.length;a++)e.beginPath(),e.arc(t[a][0],t[a][1],n,0,2*Math.PI),e.fill(),e.stroke(),e.closePath()}},mounted:function(){var t=document.getElementById("canvas"),e=t.getContext("2d");t.width=this.width,t.height=this.height,this.render(this.layers,this.neurons,e)}},ot=st,ct=(n("0df8"),Object(c["a"])(ot,at,it,!1,null,"7d49f362",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("当前训练数据总量 : "+t._s(t.dataAmount))]),n("p",[t._v("当前验证数据总量 : "+t._s(t.validAmount))]),n("p",[t._v("当前测试数据总量 : "+t._s(t.testAmount))]),n("div",{staticClass:"panel"},[n("el-button",{staticStyle:{width:"130px"},attrs:{disabled:t.isTraining,loading:t.isTraining},on:{click:t.startTrain}},[t._v("开始学习")]),n("el-progress",{staticStyle:{width:"500px","margin-left":"50px"},attrs:{percentage:t.processPercent,status:"success"}}),n("div",{staticClass:"panelData",class:{active:t.trainFinished,noActive:!t.trainFinished}},[n("p",[t._v(" 训练误差为:"+t._s(t.trainMSE)+" 验证误差为:"+t._s(t.validMSE))])])],1),t._m(0),t._m(1)])},dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lossWrapper"},[n("div",{attrs:{id:"loss"}}),n("div",{attrs:{id:"validLoss"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"output"}})])}],pt=(n("a630"),n("fb6a"),n("b680"),n("3ca3"),n("96cf"),n("1da1")),ht=function(){for(var t=[],e=0;e<200;e++)t.push(e);return t}(),ft={name:"DeepLearning",props:["Xtrain","Ytrain","Xtest","Ytest","Xvalid","Yvalid","layersNumber","neuronsNumber","epochs","batchSize"],data:function(){return{isTraining:!1,currentEpoch:[],currentLoss:[],validLoss:[],processPercent:0,result:[],trainFinished:!1,trainMSE:0,validMSE:0}},computed:{dataAmount:function(){return this.Xtrain?this.Xtrain.data.length:0},testAmount:function(){return this.Xtest?this.Xtest.data.length:0},validAmount:function(){return this.Xvalid?this.Xvalid.data.length:0},valData:function(){return this.Yvalid?this.Yvalid.data.slice(0,200):[]},option:function(){return{xAxis:{name:"次数",boundaryGap:!1,data:this.currentEpoch},yAxis:{name:"误差",type:"value"},series:[{type:"line",data:this.currentLoss,showSymbol:!1}]}},validOption:function(){return{xAxis:{name:"次数",boundaryGap:!1,data:this.currentEpoch},yAxis:{name:"val_loss",type:"value"},series:[{type:"line",data:this.validLoss,showSymbol:!1,color:"#42b983"}]}},outputOption:function(){return{xAxis:{name:"时间",boundaryGap:!1,data:ht},yAxis:{name:"output",type:"value",min:0,max:4},series:[{type:"line",showSymbol:!1,data:this.valData},{type:"line",showSymbol:!1,data:this.result}]}}},watch:{option:function(){var t=this.$echarts.init(document.getElementById("loss"));t.setOption(this.option)},validOption:function(){var t=this.$echarts.init(document.getElementById("validLoss"));t.setOption(this.validOption)},outputOption:function(){var t=this.$echarts.init(document.getElementById("output"));t.setOption(this.outputOption)}},methods:{reset:function(){this.processPercent=0,this.currentEpoch=[],this.currentLoss=[],this.validLoss=[],this.trainFinished=!1},startTrain:function(){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.reset(),n=t.$tf.sequential(),n.add(t.$tf.layers.dense({units:12,inputShape:[t.Xtrain.data[0].length]})),a=1;a<=t.layersNumber;a++)n.add(t.$tf.layers.dense({units:t.neuronsNumber}));return n.add(t.$tf.layers.dense({units:1})),n.compile({loss:t.$tf.losses.meanSquaredError,optimizer:t.$tf.train.sgd(.1)}),i=t.$tf.tensor(t.Xtrain.data),r=t.$tf.tensor(t.Ytrain.data),s=t.$tf.tensor(t.Xvalid.data),o=t.$tf.tensor(t.Yvalid.data),c={onEpochEnd:function(e,a){t.currentEpoch.push(e),t.currentLoss.push(a.loss),t.validLoss.push(a.val_loss),t.processPercent=(e+1)/t.epochs*100,t.result=Array.from(n.predict(t.$tf.tensor(t.Xvalid.data.slice(0,200))).dataSync())},onTrainBegin:function(e){t.isTraining=!t.isTraining},onTrainEnd:function(e){t.isTraining=!t.isTraining,t.trainFinished=!0,t.trainMSE=t.currentLoss[t.epochs-1].toFixed(2),t.validMSE=t.validLoss[t.epochs-1].toFixed(2)}},e.next=13,n.fit(i,r,{batchSize:t.batchSize,epochs:t.epochs,callbacks:c,validationData:[s,o]});case 13:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this.$echarts.init(document.getElementById("loss"));t.setOption(this.option);var e=this.$echarts.init(document.getElementById("validLoss"));e.setOption(this.validOption);var n=this.$echarts.init(document.getElementById("output"));n.setOption(this.outputOption)}},mt=ft,vt=(n("4416"),Object(c["a"])(mt,lt,dt,!1,null,"22e3469c",null)),gt=vt.exports,yt={name:"Training",components:{DrawNeural:ut,DeepLearning:gt},inject:["getXtrainData","getYtrainData","getXvalidData","getYvalidData","getXtestData","getYtestData"],data:function(){return{layersNumber:3,neuronsNumber:2,hyperparameters:{batchSize:300,epochs:10}}},methods:{changeLayers:function(t){this.layersNumber=t},changeNeurons:function(t){this.neuronsNumber=t}},computed:{Xtrain:function(){return this.getXtrainData()},Ytrain:function(){return this.getYtrainData()},Xvalid:function(){return this.getXvalidData()},Yvalid:function(){return this.getYvalidData()},Xtest:function(){return this.getXtestData()},Ytest:function(){return this.getYtestData()}}},_t=yt,bt=(n("0604"),Object(c["a"])(_t,et,nt,!1,null,"4da35ea9",null)),xt=bt.exports,wt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-wrapper"},[n("div",{staticClass:"article"},[n("h1",[t._v("title")]),n("div",[t._v("这里将是介绍页")])])])}],St={name:"A",mounted:function(){console.log(2222)}},Dt=St,$t=(n("9cc0"),Object(c["a"])(Dt,wt,Et,!1,null,"12236fad",null)),Xt=$t.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-wrapper"},[n("h1",[t._v("机器学习小展示")]),n("p",[t._v("如果你从未接触过机器学习，下面将通过简单的例子，对机器学习回归预测应用做一个简单的展示")]),n("div",{staticClass:"graph",attrs:{id:"DemoGraph"}}),n("p",[t._v("假设有一只蚂蚁，它在1点时位于(1,1)位置。在2点时移动到了(2,3)位置，在3点时又处在了(3,5)位置,四点时又到了 (4,7)位置，如上图所示，那么请问它在5点时最有可能位于哪里呢?")]),n("p",[t._v("相信聪明的你已经猜到答案了，答案就是9！")]),n("p",[t._v("因为蚂蚁很有可能是按照y=2x-1的轨迹来运动的")]),n("div",{staticClass:"graph",attrs:{id:"DemoGraph2"}}),n("p",[t._v("接下来我们把历史轨迹的数据带入神经网络进行学习，来看看AI会得到什么样的结果")]),n("p",[t._v("你只需要点击下面的开始学习按钮，便可在前端训练一个简单的AI")]),n("div",{staticClass:"trainingComponent"},[n("training-demo")],1),n("p",[t._v("横坐标为当前AI的学习次数，纵坐标表示当前模型在测试集中MSE误差，可以看到随着学习次数的增加，误差在逐渐减小。说明我们制作的AI正在学习东西！")]),n("p",[t._v("由于梯度下降的随机性，学习效果会时好时坏，你可以多训练几次，拼拼手气")]),n("p",[t._v("可以看到，预测结果与9非常的接近。虽然在本次的例子中，我们只使用了一层含有一个神经元的最简单的神经网络,并且只提供了4个最简单的数据， 然而AI却仿佛通过这4个数据，自己学习到了y=2x-1似乎是这个答案的最优解")]),n("p",[t._v("现在你已经掌握了回归预测的最基本概念，那么就请继续看下去吧")])])},Yt=[],At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"DemoController"},[n("el-button",{staticStyle:{width:"130px"},attrs:{disabled:t.isTraining,loading:t.isTraining},on:{click:t.run}},[t._v("开始学习")]),n("el-progress",{staticStyle:{width:"300px","margin-left":"50px"},attrs:{percentage:t.processPercent,status:"success"}})],1),n("div",{staticClass:"result",class:{active:t.result,noActive:!t.result}},[t._v("预测结果为 : "+t._s(t.result))]),n("div",{attrs:{id:"lossGraph"}})])},It=[],jt=[1,2,3,4],Ct=[1,3,5,7],Lt={name:"TrainingDemo",data:function(){return{result:null,isTraining:!1,processPercent:0,currentEpoch:[],epoch:30,currentLoss:[]}},computed:{option:function(){return{xAxis:{name:"次数",boundaryGap:!1,data:this.currentEpoch},yAxis:{name:"误差",type:"value"},series:[{type:"line",data:this.currentLoss,showSymbol:!1}]}}},watch:{option:function(){var t=this.$echarts.init(document.getElementById("lossGraph"));t.setOption(this.option)}},methods:{reset:function(){this.processPercent=0,this.currentEpoch=[],this.currentLoss=[]},run:function(){var t=this;return Object(pt["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.reset(),n=t.$tf.sequential(),n.add(t.$tf.layers.dense({units:1,inputShape:[1]})),n.compile({loss:t.$tf.losses.meanSquaredError,optimizer:t.$tf.train.sgd(.1)}),a=t.$tf.tensor(jt),i=t.$tf.tensor(Ct),r={onEpochEnd:function(e,n){t.currentEpoch.push(e),t.currentLoss.push(n.loss),t.processPercent=(e+1)/t.epoch*100},onTrainBegin:function(e){t.isTraining=!t.isTraining},onTrainEnd:function(e){t.isTraining=!t.isTraining,t.result=n.predict(t.$tf.tensor([5])).dataSync()}},e.next=9,n.fit(a,i,{batchSize:2,epochs:t.epoch,callbacks:r});case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this.$echarts.init(document.getElementById("lossGraph"));t.setOption(this.option)}},Mt=Lt,Tt=(n("57ce"),Object(c["a"])(Mt,At,It,!1,null,"5b5b8218",null)),Pt=Tt.exports,Nt={title:{text:"蚂蚁历史位置图"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"value",min:0,max:6},yAxis:{min:0,max:10},series:[{type:"effectScatter",data:[[1,1],[2,3],[3,5],[4,7]]}]},kt={title:{text:"蚂蚁历史位置图"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"value",min:0,max:6},yAxis:{min:0,max:10},series:[{type:"effectScatter",data:[[1,1],[2,3],[3,5],[4,7]]},{type:"line",data:[[0,-1],[1,1],[2,3],[3,5],[4,7],[5,9]],lineStyle:{type:"dashed"},itemStyle:{opacity:0}}]},zt={name:"Demo",components:{TrainingDemo:Pt},mounted:function(){var t=document.getElementById("DemoGraph"),e=this.$echarts.init(t);e.setOption(Nt);var n=document.getElementById("DemoGraph2"),a=this.$echarts.init(n);a.setOption(kt)}},Bt=zt,Gt=(n("548c"),Object(c["a"])(Bt,Ot,Yt,!1,null,"b61234e6",null)),Rt=Gt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("这里将介绍数据 ")])},Wt=[],qt={name:"DataIntroduce"},Vt=qt,Ht=Object(c["a"])(Vt,Ft,Wt,!1,null,"7428c981",null),Jt=Ht.exports;a["default"].use(d["a"]);var Kt=[{path:"/",name:"Home",component:L},{path:"/AreaModel",name:"AreaModel",component:z},{path:"/SingleModel",name:"SingleModel",component:tt,children:[{path:"Introduce",component:Xt},{path:"Demo",component:Rt},{path:"training",component:xt},{path:"DataIntroduce",component:Jt}]}],Zt=new d["a"]({routes:Kt}),Qt=Zt,Ut=(n("9d4c"),n("450d"),n("e450")),te=n.n(Ut),ee=(n("eca7"),n("3787")),ne=n.n(ee),ae=(n("425f"),n("4105")),ie=n.n(ae),re=(n("b5c2"),n("20cf")),se=n.n(re),oe=(n("1951"),n("eedf")),ce=n.n(oe),ue=(n("b8e0"),n("a4c4")),le=n.n(ue),de=(n("4ca3"),n("443e")),pe=n.n(de),he=(n("ce18"),n("f58e")),fe=n.n(he),me=(n("8bd8"),n("4cb2")),ve=n.n(me),ge=(n("f4f9"),n("c2cc")),ye=n.n(ge),_e=(n("7a0f"),n("0f6c")),be=n.n(_e),xe=(n("6b30"),n("c284")),we=n.n(xe),Ee=(n("e960"),n("b35b")),Se=n.n(Ee);a["default"].use(Se.a),a["default"].use(we.a),a["default"].use(be.a),a["default"].use(ye.a),a["default"].use(ve.a),a["default"].use(fe.a),a["default"].use(pe.a),a["default"].use(le.a),a["default"].use(ce.a),a["default"].use(se.a),a["default"].use(ie.a),a["default"].use(ne.a),a["default"].use(te.a);var De=n("313e"),$e=n.n(De),Xe=n("9ca8"),Oe=n("ce1a");a["default"].config.productionTip=!1,a["default"].prototype.$echarts=$e.a,a["default"].prototype.$tf=Oe,a["default"].component("vue-echarts",Xe["a"]),new a["default"]({router:Qt,render:function(t){return t(l)}}).$mount("#app")},"57ce":function(t,e,n){"use strict";n("07ff")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"65e5":function(t,e,n){},"6f63":function(t,e,n){"use strict";n("c596")},"94d1":function(t,e,n){},"9c0c":function(t,e,n){},"9cc0":function(t,e,n){"use strict";n("94d1")},"9d32":function(t,e,n){},c596:function(t,e,n){},c72a:function(t,e,n){"use strict";n("463b")},d5e0:function(t,e,n){"use strict";n("e373")},e373:function(t,e,n){},e629:function(t,e,n){"use strict";n("65e5")},f435:function(t,e,n){"use strict";n("5648")},f632:function(t,e,n){}});
//# sourceMappingURL=app.974ba933.js.map